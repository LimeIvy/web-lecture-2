# セットアップ

このプロジェクトをローカル環境で実行するためのセットアップ手順です。

## 前提条件

- Node.js（v18以上推奨）
- npm（Node.jsに同梱）

## バックエンド側のセットアップ

### 1. ディレクトリに移動

```bash
cd backend
```

### 2. 依存関係のインストール

```bash
npm install
```

これにより、以下のパッケージがインストールされます：
- `hono`: Webフレームワーク
- `@hono/node-server`: Hono用のNode.jsサーバーアダプター
- `better-sqlite3`: SQLiteデータベースライブラリ
- `tsx`: TypeScript実行ツール（開発用）
- `typescript`: TypeScriptコンパイラ

### 3. 開発サーバーの起動

```bash
npm run dev
```

サーバーは `http://localhost:8080` で起動します。

**注意**: 初回起動時、`x_clone.db` ファイルが自動的に作成され、テーブルとサンプルデータが初期化されます。

### 4. 動作確認

ブラウザまたはcurlで以下のURLにアクセスして確認できます：

```bash
curl http://localhost:8080/
```

レスポンス: `{"message":"Hello!"}`

## フロントエンド側のセットアップ

### 1. ディレクトリに移動

```bash
cd frontend
```

### 2. 依存関係のインストール

```bash
npm install
```

これにより、以下のパッケージがインストールされます：
- `react`, `react-dom`: Reactライブラリ
- `react-router-dom`: ルーティングライブラリ
- `vite`: ビルドツール
- `tailwindcss`: CSSフレームワーク
- `lucide-react`: アイコンライブラリ
- `typescript`: TypeScriptコンパイラ

### 3. 開発サーバーの起動

```bash
npm run dev
```

開発サーバーは `http://localhost:5173` で起動します（Viteのデフォルトポート）。

### 4. 動作確認

ブラウザで `http://localhost:5173` にアクセスして、アプリケーションが表示されることを確認します。

## トラブルシューティング

### ポートが既に使用されている場合

- バックエンド（8080）: `src/index.ts` の `port` 変数を変更
- フロントエンド（5173）: `vite.config.ts` でポートを変更、または `npm run dev -- --port 3000` のように指定

### データベースのリセット

`backend/x_clone.db` ファイルを削除すると、次回起動時に再初期化されます。

### 依存関係の再インストール

問題が発生した場合は、`node_modules` を削除して再インストール：

```bash
rm -rf node_modules package-lock.json
npm install
```

## ビルド（本番用）

### バックエンド

```bash
cd backend
npm run build
npm start
```

### フロントエンド

```bash
cd frontend
npm run build
```

ビルドされたファイルは `dist/` ディレクトリに出力されます。
