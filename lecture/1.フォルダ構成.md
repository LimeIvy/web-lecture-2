# フォルダ構成と解説

このプロジェクトは、フロントエンドとバックエンドが分離されたモノレポ構成になっています。

## プロジェクト全体の構造

```
web-lecture-2/
├── backend/          # バックエンド（APIサーバー）
├── frontend/         # フロントエンド（Reactアプリ）
└── lecture/         # 学習資料
```

## バックエンド（backend/）の構成

```
backend/
├── src/
│   ├── db/
│   │   └── initial.ts      # データベース初期化とテーブル作成
│   ├── routes/
│   │   ├── posts.ts        # 投稿関連のAPIエンドポイント
│   │   └── profiles.ts     # プロフィール関連のAPIエンドポイント
│   ├── types.ts            # TypeScript型定義
│   └── index.ts            # エントリーポイント（サーバー起動）
├── x_clone.db              # SQLiteデータベースファイル
├── package.json            # 依存関係とスクリプト定義
└── tsconfig.json           # TypeScript設定
```

### 各ファイルの役割

- **`src/index.ts`**: Honoフレームワークを使用してAPIサーバーを起動。CORS設定とルーティングを定義。
- **`src/db/initial.ts`**: SQLiteデータベースの初期化。テーブル作成とサンプルデータの投入を行う。
- **`src/routes/posts.ts`**: 投稿関連のAPIエンドポイント（GET /posts など）
- **`src/routes/profiles.ts`**: プロフィール関連のAPIエンドポイント（GET /profiles/me など）
- **`src/types.ts`**: バックエンドで使用するTypeScript型定義

## フロントエンド（frontend/）の構成

```
frontend/
├── src/
│   ├── components/         # Reactコンポーネント
│   │   ├── Header.tsx      # ページヘッダー
│   │   ├── Post.tsx        # 投稿表示コンポーネント
│   │   ├── PostForm.tsx    # 投稿フォームコンポーネント
│   │   └── sidebar/
│   │       ├── LeftSidebar.tsx   # 左サイドバー（ナビゲーション）
│   │       └── RightSidebar.tsx  # 右サイドバー（トレンド等）
│   ├── constants/
│   │   └── navigation.ts   # ナビゲーション設定
│   ├── mocks/              # モックデータ（開発用）
│   │   ├── posts.ts        # 投稿のモックデータ
│   │   └── user.ts         # ユーザーのモックデータ
│   ├── pages/
│   │   └── Profile.tsx     # プロフィールページ
│   ├── types/
│   │   └── post.ts         # 投稿の型定義
│   ├── utils/
│   │   └── formatTimeAgo.ts # 時間表示フォーマット関数
│   ├── App.tsx             # メインアプリケーションコンポーネント
│   ├── Router.tsx          # React Router設定
│   ├── main.tsx            # エントリーポイント
│   └── index.css           # グローバルスタイル
├── public/                 # 静的ファイル
├── package.json            # 依存関係とスクリプト定義
├── vite.config.ts          # Vite設定
├── tailwind.config.js      # Tailwind CSS設定
└── tsconfig.json           # TypeScript設定
```

### 各ファイルの役割

- **`src/main.tsx`**: Reactアプリケーションのエントリーポイント。ルーターを設定してアプリを起動。
- **`src/App.tsx`**: メインのレイアウトコンポーネント。サイドバーとメインコンテンツエリアを配置。
- **`src/Router.tsx`**: React Routerを使用したルーティング設定。
- **`src/components/Post.tsx`**: 投稿一覧を表示するコンポーネント。
- **`src/components/PostForm.tsx`**: 新しい投稿を作成するフォームコンポーネント。
- **`src/types/post.ts`**: フロントエンドで使用する投稿の型定義。
- **`src/mocks/`**: 開発時に使用するモックデータ（API接続前のテスト用）。

## 技術スタック

### バックエンド
- **Runtime**: Node.js
- **Framework**: Hono（軽量なWebフレームワーク）
- **Database**: SQLite（better-sqlite3）
- **Language**: TypeScript
- **Build Tool**: tsx（TypeScript実行ツール）

### フロントエンド
- **Framework**: React 19
- **Language**: TypeScript
- **Build Tool**: Vite
- **Routing**: React Router v7
- **Styling**: Tailwind CSS
- **Icons**: Lucide React
